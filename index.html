<!DOCTYPE html>
<html lang="en" ng-app="simpleApp">

<head>

    <meta charset="UTF-8">
    <title>Angular</title>

    <link rel="stylesheet" href="css/main.css"/>
    <link rel="stylesheet" href="libs/bootstrap.css"/>
    <link rel="stylesheet" href="libs/bootstrap-theme.css"/>
    <link rel="stylesheet" href="libs/fancybox/jquery.fancybox.css"/>

</head>

<body ng-controller="simpleCtrl">

<!--Начало таблицы-->

<section class="wrapper">
    <div class="panel panel-primary">
        <h3 class="panel-heading">Users</h3>

        <table class="table-striped">
            <thead>
            <tr>
                <th>Name</th>
                <th>Surname</th>
                <th>Email</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="user in users">
                <td>{{user.name}}</td>
                <td>{{user.surname}}</td>
                <td>{{user.email}}</td>
                <td>
                    <button class="edit btn-xs btn-primary"><a href="#myForm" class="button fancybox"
                                                               ng-click="editOrCreate(user)">Edit</a></button>
                    <button type="submit" class="btn-xs btn-primary" ng-click="delete(user)">Delete</button>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="add">
            <button class="create btn-sm btn-primary"><a href="#myForm" class="fancybox" ng-click="editOrCreate()">Create</a>
            </button>
        </div>
    </div>
</section>

<!--Конец таблицы-->

<!--Начало формы-->

<div class="hidden" ng-controller="validCtrl">
    <form id="myForm" name="myForm" novalidate>
        <div class="well">
            <div class="form-group">
                <label>Name:</label>
                <input type="text" name="name" class="form-control" required ng-model="currentUser.name"
                       pattern="[A-zА-яЁё]{1,20}"/>

                <div class="error" ng-show="myForm.name.$invalid && myForm.name.$dirty">
                    {{getError(myForm.name.$error)}}
                </div>
            </div>

            <div class="form-group">
                <label>Surname:</label>
                <input type="text" name="surname" class="form-control" required ng-model="currentUser.surname"
                       pattern="[A-zА-яЁё]{1,20}"/>

                <div class="error" ng-show="myForm.surname.$invalid && myForm.surname.$dirty">
                    {{getError(myForm.surname.$error)}}
                </div>
            </div>


            <div class="form-group">
                <label>Email:</label>
                <input type="email" name="email" class="form-control" required ng-model="currentUser.email"/>

                <div class="error" ng-show="myForm.email.$invalid && myForm.email.$dirty">
                    {{getError(myForm.email.$error)}}
                </div>

            </div>

            <button id="save" type="submit" class="btn btn-primary" ng-disabled="myForm.$invalid"
                    ng-click="saveEdit(currentUser)">Add
            </button>
        </div>
    </form>
</div>

<!--Конец формы-->

<script src="libs/jquery-2.1.1.min.js"></script>
<script src="libs/fancybox/jquery.fancybox.pack.js"></script>

<script src="libs/angular.js"></script>

<script src="ang/valid.js"></script>
<script src="ang/app.js"></script>
<script src="js/main.js"></script>

</body>
</html>